"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.list = exports.action = void 0;
const commander_1 = require("commander");
const supabase_1 = require("../../libs/supabase");
const action = async (accessToken) => {
    const config = await (0, supabase_1.getRemoteEnv)();
    if (!config)
        return;
    const token = accessToken || config.access_token || "";
    const result = await (0, supabase_1.getOrganizations)(token);
    console.log(JSON.stringify(result, undefined, "  "));
};
exports.action = action;
exports.list = commander_1.program
    .createCommand("list")
    .description("Displaying the project list")
    .addArgument(new commander_1.Argument("[accessToken]", "accessToken").argOptional())
    .action(exports.action);
