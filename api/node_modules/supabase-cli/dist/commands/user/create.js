"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.create = exports.action = void 0;
const commander_1 = require("commander");
const supabase_1 = require("../../libs/supabase");
const action = async (email, password) => {
    const config = await (0, supabase_1.getSupabaseEnv)();
    if (!config)
        return;
    const apiKey = config.SERVICE_ROLE_KEY;
    const port = config.KONG_HTTP_PORT;
    (0, supabase_1.createUser)({ url: `http://localhost:${port}`, apiKey, email, password });
};
exports.action = action;
exports.create = commander_1.program
    .createCommand("create")
    .description("Create a user")
    .addArgument(new commander_1.Argument("email", "User's email address").argRequired())
    .addArgument(new commander_1.Argument("password", "User Password").argRequired())
    .action(exports.action);
